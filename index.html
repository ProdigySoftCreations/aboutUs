<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prodigy Soft Creations</title>

    <!--CSS-->
    <link rel="stylesheet" href="style/styleCarrossel.css">
    <link rel="stylesheet" href="style/styleNavbar.css">
    <link rel="stylesheet" href="style/styleGeral.css">


    <!--FONTES-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">

    <style>
        

    </style>
</head>

<body>
    <div class="container">
        <nav class="navbar">
            <div class="logo">
            </div>
            <div class="buttons">
                <ul>
                    <li><a href="#">Home</a></li>
                    <li><a href="#">Quem Somos</a></li>
                    <li><a href="#">Entre em contato</a></li>
                </ul>
            </div>
        </nav>

        <div class="carrosel">
            <div class="background">
                <div class="fotos" id="selec-1">
                    <div class="texto">
                        <h1>Texto sobre a Foto 1</h1>
                    </div>
                    <img src="assets/foto1.jpg" alt="Foto 1" class="foto">
                </div><!--fotos / selec-1-->
                <div class="fotos" id="selec-2">
                    <div class="texto">
                        <h1>Texto sobre a Foto 2</h1>
                    </div><!--texto-->
                    <img src="assets/foto2.jpg" alt="Foto 2" class="foto">
                </div><!--fotos / selec-2-->
            </div><!--background-carrosel-->
            <div class="botoes">
                <button class="btn-carrosel" data-index="0" id="btn-1"></button>
                <button class="btn-carrosel" data-index="1" id="btn-2"></button>
            </div>
        </div><!--carrossel-->


    </div><!--Container-->

</body>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const buttons = document.querySelectorAll(".btn-carrosel");
        const background = document.querySelector(".background");
        const fotos = document.querySelectorAll(".fotos");
        let currentIndex = 0;
        let interval;
        let isDragging = false;
        let initialPosition = 0;

        function changePhoto(index) {
            const offset = index * -100;
            background.style.transition = "transform 0.3s ease";
            background.style.transform = `translateX(${offset}%)`;
            currentIndex = index;
            resetInterval();
        }

        function handleKeyPress(event) {
            if (event.key === "ArrowLeft") {
                const newIndex = (currentIndex - 1 + fotos.length) % fotos.length;
                changePhoto(newIndex);
            } else if (event.key === "ArrowRight") {
                const newIndex = (currentIndex + 1) % fotos.length;
                changePhoto(newIndex);
            }
        }

        document.addEventListener("keydown", handleKeyPress);

        buttons.forEach((button, index) => {
            button.addEventListener("click", () => {
                changePhoto(index);
            });
        });

        function startCarousel() {
            interval = setInterval(() => {
                currentIndex = (currentIndex + 1) % fotos.length;
                changePhoto(currentIndex);
            }, 5000);
        }

        function resetInterval() {
            clearInterval(interval);
            setTimeout(() => {
                background.style.transition = "";
            }, 300);
            startCarousel();
        }

        startCarousel();

        background.addEventListener("mousedown", (e) => {
            isDragging = true;
            initialPosition = e.clientX;
            background.style.transition = "";
            e.preventDefault();
        });

        background.addEventListener("mouseup", () => {
            isDragging = false;
            resetInterval();
        });

        background.addEventListener("mousemove", (e) => {
            if (isDragging) {
                const movement = e.clientX - initialPosition;
                const newIndex = currentIndex - Math.sign(movement);
                const newIndexClamped = Math.min(Math.max(newIndex, 0), fotos.length - 1);
                if (newIndexClamped !== currentIndex) {
                    changePhoto(newIndexClamped);
                }
                isDragging = false;
            }
        });

        background.addEventListener("mouseleave", () => {
            isDragging = false;
            resetInterval();
        });
    });
</script>

</html>